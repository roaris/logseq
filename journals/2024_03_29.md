# NW過去問
- ## [令和3年 午後I](https://www.ipa.go.jp/shiken/mondai-kaiotu/gmcbt8000000d5ru-att/2021r03h_nw_pm1_qs.pdf)
- ### 問1
	- 設問1
		- (1) DHCPサーバ
		- (2) 82
			- 192.168.1.0/24でホスト部が8ビットなので、ネットワークアドレスとブロードキャストアドレスを除いて254個のIPアドレス
			- 本社のDHCPサーバ、DNSサーバ、在庫管理サーバ、L2SW、在庫管理端末2台を除いて、残り248個
			- 店舗はL2SW、在庫管理端末2台で計3台なので、$$\lfloor$$248/3$$\rfloor$$ = 82
		- (3) 全ての店舗のL2SWに送信(フラッディング)される
			- 解答例 : L2SWの入力ポート以外の全てのポートに転送される
	- 設問2
		- (1) RT管理コントローラのIPアドレスを変更しても、各RTの設定を変更する必要はないため
		- (2) HTTP
		- (3) L2SW01, RT01, RT00
			- 解答例 : 運用管理サーバ
			- https://aolaniengineer.com/archives/5045 に解説がある
			- 問題文に「店舗のRTのBPは、トンネルで接続された本社のRTのBPと同一ブロードキャストドメインとなる」とあり、店舗の在庫管理端末と運用管理サーバはルータを介さずに通信が出来る
		- (4) 分からない
			- 解答例 : 店舗から本社にはBP経由でしかアクセスできないから
			- これも https://aolaniengineer.com/archives/5045 に解説がある
			- 「インターネットからRPに接続した機器へのアクセスはできない」とあるので、サーバを本社のRP側に設置することは出来ない
			- 「RPに接続した機器とBPに接続した機器との間の通信はできない」とあるので、サーバを本社のBP側に設置することも出来ない
	- 設問3
		- (1) 3
			- 解答例 : 2
		- (2) b : SNMP, c : L2SW
			- 解答例 : b : SNMP, c : RT管理コントローラ
		- (3) 在庫管理端末が運用管理サーバに接続出来る状態
			- 解答例 : 各機器の接続構成が構成図どおりであること
			- LLDPを使っているので、こういう解答例になる
		- (4) イ、エ、カ
	- メモ
		- [ブロードキャストドメイン](https://e-words.jp/w/%E3%83%96%E3%83%AD%E3%83%BC%E3%83%89%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3.html)
			- ルータを介さずに通信出来る範囲
			- リピータやブリッジ、ハブ、ネットワークスイッチを介して繋がれている範囲は全て同じブロードキャストドメイン
		- traceroute
			- TTLが1のUDPパケットを送信 → TTLが2のUDPパケットを送信 → ... とする
			- ルータを経由するとTTLが1減る
			- TTLが0になるとICMP時間超過メッセージがルータから返されるため、経路中のルータの存在を知ることが出来る
			- スイッチのIPは表示されない([参考](https://qiita.com/S-T/items/4b4815a408a2ad71a58a))
		- LLDP(Link Layer Discovery Protocol)
			- 隣接する機器に自身の機器情報やIFの情報を送信する
		- SNMP(Simple Network Management Protocol)
			- ネットワーク管理を行うためのプロトコル
			- 管理する側がマネージャ、管理される側をエージェントという
			- SNMPではMIB(Management Information Base)という形式のデータがやり取りされる
			- LLDPで取得した機器情報をLLDP-MIBとしてSNMPで送信することで、マネージャ側でエージェントのネットワーク構成を把握することが出来る